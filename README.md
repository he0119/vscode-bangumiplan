# BangumiPlan 扩展

这是一个专为番剧追踪计划文件设计的 VS Code 扩展，提供语法高亮、智能悬浮提示和便捷链接跳转功能。

## 功能特性

### 🎨 语法高亮

- **状态标题**：`正在看`、`搁置` 等状态用蓝色粗体显示
- **分类标题**：`动画`、`电视剧`、`云游戏` 等分类用青色粗体显示
- **BGM ID**：`[数字]` 格式的 BGM ID 用黄色下划线显示
- **观看标记**：支持多种进度标记符号（`√`、`☑`、`✅`、`✓`、`✔`、`🗸`）用绿色粗体显示，表示观看进度
- **条目标题**：作品名称用默认颜色显示
- **完成日期**：`<日期>` 格式的完成日期用橙色斜体显示
- **说明文字**：`(说明)` 格式的说明文字用灰色显示

### 🖱️ 智能悬浮提示

- **观看计数**：鼠标悬浮在进度标记符号上时，自动统计并显示观看的集数。
- **条目标题**：鼠标悬浮在条目标题上时，会根据条目格式显示丰富的信息：
  - **带观看进度的条目**：显示作品标题、BGM 链接（如有）、观看集数、进度标记和说明（如有）。
  - **带完成日期的条目**：显示作品标题、BGM 链接（如有）、完成日期和说明（如有）。
  - **基础条目**：显示作品标题和 BGM 链接（如有）。
- **完成日期**：鼠标悬浮在 `<日期>` 上时，显示完成日期以及对应的作品标题。
- **说明文字**：鼠标悬浮在 `(说明)` 上时，显示说明内容以及对应的作品标题。

### 🔗 点击跳转

- 点击 BGM ID（如 `[512190]`）可直接跳转到对应的 BGM 网站页面

## 文件格式示例

BangumiPlan 支持多种灵活的格式，以适应不同的追踪需求：

### 基础格式

```text
正在看:
    动画:
        [512190]琉璃的宝石 √√√√√√√
        [524707]我怎么可能成为你的恋人，不行不行！(※不是不可能！？) √√√√√√√
```

### 带完成日期的格式

```text
看完:
    动画:
        [95225]Fate/stay night [Unlimited Blade Works]<2024-12-15>
        [448677]非人哉 第三季<2024-11-20>(推荐)
```

### 进度详情格式

```text
正在看:
    动画:
        [512190]琉璃的宝石 [正在观看 第7集]
        [524707]我怎么可能成为你的恋人，不行不行！ [正在观看 第5集] (很好看)
```

### 混合格式

```text
正在看:
    2025年七月新番:
        [512190]琉璃的宝石 √√√√√√√
        [524707]我怎么可能成为你的恋人，不行不行！(※不是不可能！？) √√√√√√√
        [506677]Silent Witch 沉默魔女的秘密 √√√√√√√
    动画:
        [95225]Fate/stay night [Unlimited Blade Works]

搁置:
    动画:
        [492199]明日方舟：焰烬曙明 ☑
        [485936]mono女孩 ✅✅
        [123456]测试作品 ✓✓✓✓

看完:
    动画:
        [123456]某部动画<2025/8/19 22:04>(很棒的作品)
        无BGM ID的作品<2025/8/19 20:07>(经典)
```

## 使用说明

1. 创建一个 `.bp` 扩展名的文件
2. 按照上述格式编写你的追番计划
3. 享受语法高亮和智能提示功能！

### 支持的格式

BangumiPlan 支持以下多种格式，可以灵活组合使用：

#### 带观看进度的格式

- `[BGM_ID]作品名称 √√√`
- `[BGM_ID]作品名称 √√√ (说明文字)`
- `作品名称 √√√`
- `作品名称 √√√ (说明文字)`

#### 进度详情格式

- `[BGM_ID]作品名称 [正在观看 进度详情]`
- `[BGM_ID]作品名称 [正在观看 进度详情] (说明文字)`
- `作品名称 [正在观看 进度详情]`
- `作品名称 [正在观看 进度详情] (说明文字)`

#### 带完成日期的格式

- `[BGM_ID]作品名称<YYYY-MM-DD>`
- `[BGM_ID]作品名称<YYYY-MM-DD>(说明文字)`
- `作品名称<YYYY-MM-DD>`
- `作品名称<YYYY-MM-DD>(说明文字)`

#### 基础格式

- `[BGM_ID]作品名称`
- `作品名称`

### 格式规则

- 使用4个空格缩进表示分类（如：`动画:`、`电视剧:`）
- 使用8个空格缩进表示具体条目
- `[数字]` 格式表示 BGM ID，支持点击跳转
- 支持多种进度标记符号（`√`、`☑`、`✅`、`✓`、`✔`、`🗸`），每个符号代表一集
- `[正在观看 进度详情]` 格式表示当前观看进度
- `<日期>` 格式表示完成日期，如 `<2024-12-15>`
- `(文字)` 格式表示说明或备注信息

## 安装使用

### 开发模式

1. 克隆或下载此扩展项目
2. 在 VS Code 中打开扩展文件夹
3. 按 `F5` 启动扩展开发主机
4. 在新窗口中创建或打开 `.bp` 文件
5. 享受语法高亮和智能提示功能

### 打包安装

1. 确保已安装 `@vscode/vsce` 工具：`npm install -g @vscode/vsce`
2. 在扩展根目录运行：`vsce package`
3. 生成的 `.vsix` 文件可以通过 VS Code 安装

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个扩展！
